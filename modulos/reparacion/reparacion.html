<div class="card shadow-sm mb-4 modulo" data-modulo="reparacion">
  <div class="card-body position-relative">

    <!-- Switch y Botón de ayuda arriba -->
    <div class="position-absolute top-0 end-0 mt-3 me-3 d-flex align-items-center">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="switchReparacion" name="switchReparacion" title="Mostrar/Ocultar formulario de reparación">
      </div>
      <button type="button" class="btn btn-link p-0 ms-2" id="ayudaReparacionBtn" style="font-size: 1.5rem;" title="¿Qué significa esto?">
        ℹ️
      </button>
    </div>

    <h5 class="text-primary fw-bold mb-4">¿Qué tipo de reparación desea solicitar?</h5>

    <!-- Texto de ayuda -->
    <div id="ayudaTextoReparacion" class="alert alert-info d-none" role="alert">
      <strong>¿Cómo funciona?</strong><br>
      1️⃣ Activá el interruptor para habilitar las opciones de reparación.<br>
      2️⃣ Seleccioná si querés reparar una maquinaria o algún otro elemento.<br>
      3️⃣ Se abrirá el formulario correspondiente según tu elección.<br><br>
      🔵 Esto nos permite organizar y atender mejor tu solicitud.
    </div>

    <!-- Opciones de reparación -->
    <div id="opcionesReparacion" class="d-none">

      <!-- Radios -->
      <div class="mb-4">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="tipoReparacion" id="reparacionMaquinaria" value="maquinaria">
          <label class="form-check-label" for="reparacionMaquinaria">Maquinaria</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="tipoReparacion" id="reparacionOtros" value="otros">
          <label class="form-check-label" for="reparacionOtros">Otros</label>
        </div>
      </div>

      <!-- Sección Maquinaria -->
      <div id="seccionMaquinaria" class="d-none">
        <label class="form-label mb-2">Unidades a reparar:</label>
        <div id="contenedorMaquinarias">
          <div class="row align-items-start mb-3 maquinaria-item">
            <div class="col-md-6">
              <select class="form-select unidadMaquinaria" name="objeto" required>
                <option value="">Seleccione una unidad</option>
              </select>
            </div>
            <div class="col-md-6">
              <textarea class="form-control detalleReparacionMaquinaria" name="detalleReparacion" rows="2" placeholder="Detalle de la reparación" required></textarea>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-sm btn-outline-primary" id="agregarMaquinariaBtn">➕ Agregar otra unidad</button>
      </div>

      <!-- Sección Otros -->
      <div id="seccionOtros" class="d-none">
        <div class="mb-3">
          <label for="nombreOtro" class="form-label">¿Qué es lo que necesita reparación?</label>
          <input type="text" id="nombreOtro" name="objeto" class="form-control" required>
        </div>
        <div class="mb-3">
          <label for="detalleReparacionOtros" class="form-label">Detalle de la reparación:</label>
          <textarea id="detalleReparacionOtros" name="detalleReparacion" class="form-control" rows="3" required></textarea>
        </div>
      </div>

    </div> <!-- cierre opcionesReparacion -->

  </div>
</div>
